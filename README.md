# WETH Analytics ğŸ“Š

ä¸€ä¸ªåŸºäº The Graph Protocol çš„ WETH åˆçº¦æ•°æ®åˆ†æåº”ç”¨ï¼Œå®æ—¶ç›‘æ§ Sepolia æµ‹è¯•ç½‘ä¸Šçš„ WETH ä»£å¸æ´»åŠ¨ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ”„ å®æ—¶æ•°æ®ç›‘æ§
- **è½¬è´¦è®°å½•è¿½è¸ª**: ç›‘æ§ WETH ä»£å¸çš„æ‰€æœ‰è½¬è´¦æ´»åŠ¨
- **å­˜å…¥è®°å½•åˆ†æ**: è·Ÿè¸ªç”¨æˆ·å°† ETH å­˜å…¥ WETH åˆçº¦çš„æ“ä½œ
- **å®æ—¶æ•°æ®åˆ·æ–°**: ä¸€é”®åˆ·æ–°è·å–æœ€æ–°åŒºå—é“¾æ•°æ®

### ğŸ¨ ç°ä»£åŒ–ç•Œé¢
- **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢ç«¯ã€å¹³æ¿å’Œç§»åŠ¨è®¾å¤‡
- **æ·±è‰²ä¸»é¢˜**: ä¸“ä¸šçš„æ·±è‰²ç•Œé¢è®¾è®¡
- **ç»ç’ƒè´¨æ„Ÿ**: ç°ä»£åŒ–çš„æ¯›ç»ç’ƒæ•ˆæœå¡ç‰‡
- **å¹³æ»‘åŠ¨ç”»**: ä¸°å¯Œçš„äº¤äº’åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ

### ğŸ”§ æ™ºèƒ½æ•°æ®è§£æ
- **åœ°å€ç®€åŒ–æ˜¾ç¤º**: è‡ªåŠ¨ç¼©çŸ­ä»¥å¤ªåŠåœ°å€ï¼Œæ‚¬æµ®æ˜¾ç¤ºå®Œæ•´åœ°å€
- **é™„è¨€è§£æ**: æ™ºèƒ½è§£æäº¤æ˜“é™„è¨€ï¼Œæ”¯æŒä¸­æ–‡ã€emoji ç­‰å¤šå­—èŠ‚å­—ç¬¦
- **é‡‘é¢æ ¼å¼åŒ–**: è‡ªåŠ¨è½¬æ¢ wei å•ä½ä¸ºå¯è¯»çš„ ETH/WETH æ ¼å¼
- **æ—¶é—´æœ¬åœ°åŒ–**: åŒºå—æ—¶é—´æˆ³è½¬æ¢ä¸ºæœ¬åœ°æ—¶é—´æ ¼å¼

### ğŸš€ æ€§èƒ½ä¼˜åŒ–
- **ç¼“å­˜æœºåˆ¶**: Apollo Client è‡ªåŠ¨ç¼“å­˜æŸ¥è¯¢ç»“æœ
- **å¢é‡åˆ·æ–°**: åˆ·æ–°æ—¶ä¿æŒç°æœ‰æ•°æ®æ˜¾ç¤ºï¼Œæå‡ç”¨æˆ·ä½“éªŒ
- **å›ºå®šè¡¨æ ¼å¸ƒå±€**: é˜²æ­¢å†…å®¹å˜åŒ–å¯¼è‡´çš„å¸ƒå±€æŠ–åŠ¨

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
react-subgraph/
â”œâ”€â”€ frontend/                 # React å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # React ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ TransferList.tsx    # è½¬è´¦è®°å½•åˆ—è¡¨
â”‚   â”‚   â”‚   â””â”€â”€ DepositList.tsx     # å­˜å…¥è®°å½•åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â””â”€â”€ hexUtils.ts  # åå…­è¿›åˆ¶è§£æå·¥å…·
â”‚   â”‚   â”œâ”€â”€ queries.ts       # GraphQL æŸ¥è¯¢å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ App.tsx          # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.tsx         # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ my-subgraph/             # The Graph å­å›¾
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ sepolia-weth.ts  # äº‹ä»¶å¤„ç†å™¨
â”‚   â”œâ”€â”€ schema.graphql       # GraphQL æ¨¡å¼å®šä¹‰
â”‚   â”œâ”€â”€ subgraph.yaml       # å­å›¾é…ç½®
â”‚   â””â”€â”€ package.json
â””â”€â”€ CLAUDE.md               # AI å¼€å‘æŒ‡å—
```

### æŠ€æœ¯æ ˆ

**å‰ç«¯**:
- âš›ï¸ React 19 + TypeScript
- ğŸ—ï¸ Vite (æ„å»ºå·¥å…·)
- ğŸŒ Apollo Client (GraphQL å®¢æˆ·ç«¯)
- ğŸ”— Ethers.js (ä»¥å¤ªåŠäº¤äº’)

**åç«¯ (Subgraph)**:
- ğŸ“ˆ The Graph Protocol
- ğŸ”— AssemblyScript (äº‹ä»¶å¤„ç†)
- ğŸ—ƒï¸ GraphQL API

**ç›®æ ‡åˆçº¦**:
- ğŸ”— Sepolia WETH: `0xdd13E55209Fd76AfE204dBda4007C227904f0a81`

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- pnpm (æ¨è) æˆ– yarn/npm
- Git

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd react-subgraph
```

### 2. å®‰è£…ä¾èµ–

**å‰ç«¯**:
```bash
cd frontend
pnpm install
```

**å­å›¾**:
```bash
cd my-subgraph
yarn install
```

### 3. å¯åŠ¨å¼€å‘ç¯å¢ƒ

**å¯åŠ¨å‰ç«¯** (åœ¨ `frontend` ç›®å½•):
```bash
pnpm dev
```
è®¿é—® http://localhost:5173

**å­å›¾å¼€å‘** (åœ¨ `my-subgraph` ç›®å½•):
```bash
# ç”Ÿæˆä»£ç ç±»å‹
yarn codegen

# æ„å»ºå­å›¾
yarn build

# æœ¬åœ°éƒ¨ç½²æµ‹è¯•
yarn deploy-local
```

## ğŸ“¦ éƒ¨ç½²æŒ‡å—

### å‰ç«¯éƒ¨ç½²
```bash
cd frontend
pnpm build
```
å°† `dist` ç›®å½•å†…å®¹éƒ¨ç½²åˆ°ä»»ä½•é™æ€æ‰˜ç®¡æœåŠ¡ã€‚

### å­å›¾éƒ¨ç½²
1. **å‡†å¤‡å­å›¾**:
```bash
cd my-subgraph
yarn codegen
yarn build
```

2. **éƒ¨ç½²åˆ° The Graph Studio**:
```bash
# é¦–æ¬¡éƒ¨ç½²éœ€è¦è®¤è¯
graph auth --studio <deploy-key>

# éƒ¨ç½²å­å›¾
yarn deploy
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡
åˆ›å»º `frontend/.env` æ–‡ä»¶:
```env
VITE_SUBGRAPH_URL=https://api.studio.thegraph.com/query/<studio-id>/<subgraph-name>/version/latest
```

### å­å›¾é…ç½®
ç¼–è¾‘ `my-subgraph/subgraph.yaml`:
```yaml
specVersion: 1.3.0
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: SepoliaWETH
    network: sepolia
    source:
      address: "0xdd13E55209Fd76AfE204dBda4007C227904f0a81"
      startBlock: 9054641
```

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### ç•Œé¢åŠŸèƒ½

1. **è½¬è´¦è®°å½•**: 
   - æŸ¥çœ‹æœ€æ–° 20 æ¡ WETH è½¬è´¦
   - åŒ…æ‹¬æ™®é€šè½¬è´¦ã€é“¸é€ å’Œé”€æ¯äº‹ä»¶
   - æ˜¾ç¤ºå‘é€æ–¹ã€æ¥æ”¶æ–¹ã€é‡‘é¢ã€æ—¶é—´å’Œé™„è¨€

2. **å­˜å…¥è®°å½•**:
   - æŸ¥çœ‹æœ€æ–° 10 æ¡ ETH å­˜å…¥è®°å½•
   - ç”¨æˆ·å­˜å…¥ ETH è·å¾— WETH çš„æ“ä½œ
   - æ˜¾ç¤ºç”¨æˆ·åœ°å€ã€é‡‘é¢ã€æ—¶é—´å’Œé™„è¨€

3. **åˆ·æ–°åŠŸèƒ½**:
   - ç‚¹å‡»åˆ·æ–°æŒ‰é’®è·å–æœ€æ–°æ•°æ®
   - åˆ·æ–°æ—¶ä¿æŒç°æœ‰æ•°æ®æ˜¾ç¤º
   - åŠ¨ç”»åé¦ˆåˆ·æ–°çŠ¶æ€

### æ•°æ®è§£æ

**åœ°å€æ˜¾ç¤º**:
- è‡ªåŠ¨ç¼©çŸ­ä¸º `0x1234...5678` æ ¼å¼
- ç‰¹æ®Šåœ°å€æ˜¾ç¤º: `0x0` â†’ ğŸ­ é“¸é€  / ğŸ”¥ é”€æ¯

**é™„è¨€è§£æ**:
- è‡ªåŠ¨è§£æåå…­è¿›åˆ¶ä¸ºå¯è¯»æ–‡æœ¬
- æ”¯æŒä¸­æ–‡ã€emoji ç­‰å¤šå­—èŠ‚å­—ç¬¦
- è§£æå¤±è´¥æ—¶æ˜¾ç¤ºæˆªæ–­çš„åå…­è¿›åˆ¶

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½
1. **å‰ç«¯ç»„ä»¶**: åœ¨ `frontend/src/components/` æ·»åŠ æ–°ç»„ä»¶
2. **GraphQL æŸ¥è¯¢**: åœ¨ `frontend/src/queries.ts` æ·»åŠ æŸ¥è¯¢
3. **å­å›¾å®ä½“**: åœ¨ `my-subgraph/schema.graphql` å®šä¹‰æ–°å®ä½“
4. **äº‹ä»¶å¤„ç†**: åœ¨ `my-subgraph/src/sepolia-weth.ts` æ·»åŠ å¤„ç†å™¨

### ä»£ç é£æ ¼
- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- éµå¾ª React Hooks æœ€ä½³å®è·µ
- ç»„ä»¶å’Œå‡½æ•°æ·»åŠ è¯¦ç»†æ³¨é‡Š
- ä½¿ç”¨è¯­ä¹‰åŒ–çš„å‘½å

### æµ‹è¯•
```bash
# å­å›¾æµ‹è¯•
cd my-subgraph
yarn test

# å‰ç«¯æµ‹è¯• (å¦‚éœ€è¦)
cd frontend
pnpm test
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **GraphQL æŸ¥è¯¢å¤±è´¥**:
   - æ£€æŸ¥å­å›¾æ˜¯å¦æˆåŠŸéƒ¨ç½²
   - ç¡®è®¤ SUBGRAPH_URL é…ç½®æ­£ç¡®
   - æŸ¥çœ‹æµè§ˆå™¨ç½‘ç»œè¯·æ±‚é”™è¯¯ä¿¡æ¯

2. **æ•°æ®ä¸æ›´æ–°**:
   - ç‚¹å‡»åˆ·æ–°æŒ‰é’®æ‰‹åŠ¨æ›´æ–°
   - æ£€æŸ¥åŒºå—é“¾ç½‘ç»œæ˜¯å¦æœ‰æ–°äº¤æ˜“
   - ç¡®è®¤å­å›¾åŒæ­¥çŠ¶æ€

3. **æ„å»ºé”™è¯¯**:
   - åˆ é™¤ `node_modules` é‡æ–°å®‰è£…ä¾èµ–
   - æ£€æŸ¥ Node.js ç‰ˆæœ¬å…¼å®¹æ€§
   - æŸ¥çœ‹å…·ä½“é”™è¯¯æ—¥å¿—

### æ—¥å¿—æŸ¥çœ‹
```bash
# å‰ç«¯å¼€å‘æœåŠ¡å™¨æ—¥å¿—
pnpm dev

# å­å›¾æ„å»ºæ—¥å¿—
yarn build

# å­å›¾éƒ¨ç½²æ—¥å¿—
yarn deploy
```

## ğŸ“‹ å¾…åŠåŠŸèƒ½

- [ ] æ·»åŠ  Withdrawal (æå–) äº‹ä»¶ç›‘æ§
- [ ] å®ç°æ•°æ®ç­›é€‰å’Œæ’åºåŠŸèƒ½
- [ ] æ·»åŠ åœ°å€è¯¦æƒ…é¡µé¢
- [ ] å®ç°æ•°æ®å¯¼å‡ºåŠŸèƒ½
- [ ] æ·»åŠ å›¾è¡¨å¯è§†åŒ–
- [ ] æ”¯æŒå¤šç½‘ç»œåˆ‡æ¢

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/new-feature`
3. æäº¤æ›´æ”¹: `git commit -am 'Add new feature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/new-feature`
5. æäº¤ Pull Request

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [The Graph Protocol](https://thegraph.com/) - å»ä¸­å¿ƒåŒ–ç´¢å¼•åè®®
- [React](https://reactjs.org/) - ç”¨æˆ·ç•Œé¢åº“
- [Apollo GraphQL](https://www.apollographql.com/) - GraphQL å®¢æˆ·ç«¯
- [Ethers.js](https://ethers.org/) - ä»¥å¤ªåŠåº“
- [Vite](https://vitejs.dev/) - å¿«é€Ÿæ„å»ºå·¥å…·

---

**Made with â¤ï¸ and powered by The Graph Protocol**